<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <script src="https://cdn.apple-mapkit.com/mk/5.x.x/mapkit.js"></script>

    <style>
      #map {
        width: 100%;
        height: 600px;
      }
    </style>
  </head>

  <body>
    <div id="map"></div>

    <script>
      const tokenID =
        "eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjZSNDg3NFE2SjUifQ.eyJpc3MiOiIyNVkyNEw1OThZIiwiaWF0IjoxNjI3ODUwMDA0LCJleHAiOjE2MzAzNTU4NDh9.fdoeHWEVFDYCylDw-AQ8TK-93kfCu4eCfqc691vohbU3eBq-EMn86dGXpMEWrzCUK6kHJdXiKgV5oKvXHj9iQA";

      mapkit.init({
        authorizationCallback: function (done) {
          done(tokenID);
        },
      });

      var map = new mapkit.Map("map");
      var center = new mapkit.Coordinate(33.769514, -84.413465);
      var span = new mapkit.CoordinateSpan(0.106, 0.106);
      var region = new mapkit.CoordinateRegion(center, span);
      map.region = region;
      map.addEventListener("select", function (event) {
        if (event.overlay) console.log("You selected an overlay.");
      });

      var points = [
        [33.79938, -84.392105],
        [33.785614, -84.414088],
        [33.781285, -84.414564],
        [33.785074, -84.418796],
        [33.786262, -84.432399],
        [33.768656, -84.425498],
        [33.769097, -84.472003],
        [33.755761, -84.46864],
        [33.750529, -84.454508],
        [33.75553, -84.433517],
        [33.753775, -84.433342],
        [33.754721, -84.406544],
        [33.749175, -84.406587],
        [33.748601, -84.402485],
        [33.751694, -84.398072],
        [33.770772, -84.399913],
        [33.771226, -84.390172],
        [33.791785, -84.39066],
      ];
      points = points.map(function (point) {
        return new mapkit.Coordinate(point[0], point[1]);
      });
      var style = new mapkit.Style({
        strokeColor: "#F00",
        strokeOpacity: 0.2,
        lineWidth: 2,
        lineJoin: "round",
        lineDash: [2, 2, 6, 2, 6, 2],
      });
      var rectangle = new mapkit.PolygonOverlay(points, { style: style });
      map.addOverlay(rectangle);
    </script>
  </body>
</html>
